<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<!-- Generated by javadoc on Tue Mar 13 15:27:48 GMT+12:00 2001 -->
<title>
  Class weka.classifiers.m5.Node
</title>
</head>
<body>
<a name="_top_"></a>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-weka.classifiers.m5.html">This Package</a>  <a href="weka.classifiers.m5.Measures.html#_top_">Previous</a>  <a href="weka.classifiers.m5.Options.html#_top_">Next</a>  <a href="AllNames.html">Index</a>  <a href="http://www.cs.waikato.ac.nz/ml/weka/index.html">WEKA's home</a></pre>
<hr>
<h1>
  Class weka.classifiers.m5.Node
</h1>
<pre>
java.lang.Object
   |
   +----weka.classifiers.m5.Node
</pre>
<hr>
<dl>
  <dt> public final class <b>Node</b>
  <dt> extends Object
  <dt> implements Serializable
</dl>
Class for handing a node in the tree or the subtree under this node
<p>
<dl>
  <dt> <b>Version:</b>
  <dd> $Revision: 1.2 $
  <dt> <b>Author:</b>
  <dd> Yong Wang (yongwang@cs.waikato.ac.nz)
</dl>
<hr>
<a name="index"></a>
<h2>
  <img src="images/constructor-index.gif" width=275 height=38 alt="Constructor Index">
</h2>
<dl>
  <dt> <img src="images/yellow-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#Node(weka.core.Instances, weka.classifiers.m5.Node)"><b>Node</b></a>(Instances, Node)
  <dd>  Constructs a new node
 
  <dt> <img src="images/yellow-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#Node(weka.core.Instances, weka.classifiers.m5.Node, weka.classifiers.m5.Options)"><b>Node</b></a>(Instances, Node, Options)
  <dd>  Constructs the root of a tree 
 
</dl>
<h2>
  <img src="images/method-index.gif" width=207 height=38 alt="Method Index">
</h2>
<dl>
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#copy(weka.classifiers.m5.Node)"><b>copy</b></a>(Node)
  <dd>  Makes a copy of the tree under this node
 
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#errors(weka.core.Instances, boolean)"><b>errors</b></a>(Instances, boolean)
  <dd>  Evaluates a tree
 
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#factor(int, int, double)"><b>factor</b></a>(int, int, double)
  <dd>  Calculates a multiplication factor used at this node
 
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#formulaeToString(boolean)"><b>formulaeToString</b></a>(boolean)
  <dd>  Converts all the linear models at the leaves under the node to a string
 
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#function()"><b>function</b></a>()
  <dd>  Finds the appropriate order of the unsmoothed linear model at this node
 
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#leafNode()"><b>leafNode</b></a>()
  <dd>  Sets the node to a leaf
 
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#leafNum(weka.core.Instance)"><b>leafNum</b></a>(Instance)
  <dd>  Detects which leaf a instance falls into
 
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#measures(weka.core.Instances, boolean)"><b>measures</b></a>(Instances, boolean)
  <dd>  Computes performance measures of a tree
 
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#measuresToString(weka.classifiers.m5.Measures[], weka.core.Instances, int, int, java.lang.String)"><b>measuresToString</b></a>(Measures[], Instances, int, int, String)
  <dd>  Converts the performance measures into a string
 
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#numberOfLinearModels()"><b>numberOfLinearModels</b></a>()
  <dd>  Counts the number of linear models in the tree.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#numLeaves(int)"><b>numLeaves</b></a>(int)
  <dd>  Sets the leaves' numbers
 
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#predict(weka.core.Instance, boolean)"><b>predict</b></a>(Instance, boolean)
  <dd>  Predicts the class value of an instance by the tree 
 
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#predictionsToString(weka.core.Instances, int, boolean)"><b>predictionsToString</b></a>(Instances, int, boolean)
  <dd>  Converts the predictions by the tree under this node to a string
 
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#prune()"><b>prune</b></a>()
  <dd>  Prunes the model tree
 
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#regression(weka.classifiers.m5.Function)"><b>regression</b></a>(Function)
  <dd>  Computes the coefficients of a linear model using the instances at this 
      node
 
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#singleNodeToString()"><b>singleNodeToString</b></a>()
  <dd> 
 Converts the information stored at this node to a string
 
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#smoothen()"><b>smoothen</b></a>()
  <dd>  Smoothens all unsmoothed formulae at the tree leaves under this node.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#smoothenFormula(weka.classifiers.m5.Node)"><b>smoothenFormula</b></a>(Node)
  <dd>  Recursively smoothens the unsmoothed linear model at this node with the 
     unsmoothed linear models at the nodes above this
 
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#split(weka.core.Instances)"><b>split</b></a>(Instances)
  <dd>  Splits the node recursively, unless there are few instances or 
     instances have similar values of the class attribute 
 
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#treeToString(int, double)"><b>treeToString</b></a>(int, double)
  <dd>  Converts the tree under this node to a string
 
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#validation(weka.core.Instances)"><b>validation</b></a>(Instances)
  <dd>  Computes performance measures for both unsmoothed and smoothed models
 
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#valueNode()"><b>valueNode</b></a>()
  <dd>  Takes a constant value as the function at the node
 
</dl>
<a name="constructors"></a>
<h2>
  <img src="images/constructors.gif" width=231 height=38 alt="Constructors">
</h2>
<a name="Node"></a>
<a name="Node(weka.core.Instances, weka.classifiers.m5.Node)"><img src="images/yellow-ball.gif" width=12 height=12 alt=" o "></a>
<b>Node</b>
<pre>
 public Node(<a href="weka.core.Instances.html#_top_">Instances</a> inst,
             <a href="#_top_">Node</a> up)
</pre>
<dl>
  <dd> Constructs a new node
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> inst - instances
    <dd> up - the parent node
  </dl></dd>
</dl>
<a name="Node(weka.core.Instances, weka.classifiers.m5.Node, weka.classifiers.m5.Options)"><img src="images/yellow-ball.gif" width=12 height=12 alt=" o "></a>
<b>Node</b>
<pre>
 public Node(<a href="weka.core.Instances.html#_top_">Instances</a> inst,
             <a href="#_top_">Node</a> up,
             <a href="weka.classifiers.m5.Options.html#_top_">Options</a> options)
</pre>
<dl>
  <dd> Constructs the root of a tree
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> inst - instances
    <dd> up - the parent node
    <dd> options - the options
  </dl></dd>
</dl>
<a name="methods"></a>
<h2>
  <img src="images/methods.gif" width=151 height=38 alt="Methods">
</h2>
<a name="singleNodeToString()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="singleNodeToString"><b>singleNodeToString</b></a>
<pre>
 public final String singleNodeToString() throws Exception
</pre>
<dl>
  <dd> Converts the information stored at this node to a string
<p>
  <dd><dl>
    <dt> <b>Returns:</b>
    <dd> the converted string
    <dt> <b>Throws:</b> Exception
    <dd> if something goes wrong
  </dl></dd>
</dl>
<a name="treeToString(int, double)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="treeToString"><b>treeToString</b></a>
<pre>
 public final String treeToString(int treeLevel,
                                  double deviation)
</pre>
<dl>
  <dd> Converts the tree under this node to a string
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> treeLevel - the depth of this node;
        the root of a tree should have treeLevel = 0
    <dd> deviation - the global deviation of the class column,
        used for evaluating relative errors
    <dt> <b>Returns:</b>
    <dd> the converted string
  </dl></dd>
</dl>
<a name="numberOfLinearModels()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="numberOfLinearModels"><b>numberOfLinearModels</b></a>
<pre>
 public final int numberOfLinearModels()
</pre>
<dl>
  <dd> Counts the number of linear models in the tree.
<p>
</dl>
<a name="formulaeToString(boolean)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="formulaeToString"><b>formulaeToString</b></a>
<pre>
 public final String formulaeToString(boolean smooth) throws Exception
</pre>
<dl>
  <dd> Converts all the linear models at the leaves under the node to a string
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> smooth - either the smoothed models if true, otherwise
        the unsmoothed are converted
    <dt> <b>Returns:</b>
    <dd> the converted string
    <dt> <b>Throws:</b> Exception
    <dd> if something goes wrong
  </dl></dd>
</dl>
<a name="numLeaves(int)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="numLeaves"><b>numLeaves</b></a>
<pre>
 public final int numLeaves(int leafCounter)
</pre>
<dl>
  <dd> Sets the leaves' numbers
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> leafCounter - the number of leaves counted
    <dt> <b>Returns:</b>
    <dd> the number of the total leaves under the node
  </dl></dd>
</dl>
<a name="split(weka.core.Instances)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="split"><b>split</b></a>
<pre>
 public final void split(<a href="weka.core.Instances.html#_top_">Instances</a> inst) throws Exception
</pre>
<dl>
  <dd> Splits the node recursively, unless there are few instances or 
     instances have similar values of the class attribute
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> inst - instances
    <dt> <b>Throws:</b> Exception
    <dd> if something goes wrong
  </dl></dd>
</dl>
<a name="leafNode()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="leafNode"><b>leafNode</b></a>
<pre>
 public final void leafNode() throws Exception
</pre>
<dl>
  <dd> Sets the node to a leaf
<p>
  <dd><dl>
    <dt> <b>Throws:</b> Exception
    <dd> if something goes wrong
  </dl></dd>
</dl>
<a name="valueNode()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="valueNode"><b>valueNode</b></a>
<pre>
 public final void valueNode() throws Exception
</pre>
<dl>
  <dd> Takes a constant value as the function at the node
<p>
  <dd><dl>
    <dt> <b>Throws:</b> Exception
    <dd> if something goes wrong
  </dl></dd>
</dl>
<a name="prune()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="prune"><b>prune</b></a>
<pre>
 public final void prune() throws Exception
</pre>
<dl>
  <dd> Prunes the model tree
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> modelType - determines what kind a model is constructed, a model tree,
      a regression tree or a simple linear regression
    <dd> pruningFactor - the pruning factor influences the size of the pruned tree
    <dt> <b>Throws:</b> Exception
    <dd> if something goes wrong
  </dl></dd>
</dl>
<a name="regression(weka.classifiers.m5.Function)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="regression"><b>regression</b></a>
<pre>
 public final void regression(<a href="weka.classifiers.m5.Function.html#_top_">Function</a> function)
</pre>
<dl>
  <dd> Computes the coefficients of a linear model using the instances at this 
      node
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> function - the linear model containing the index of the attributes;
      coefficients are to be computed
  </dl></dd>
</dl>
<a name="function()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="function"><b>function</b></a>
<pre>
 public final void function() throws Exception
</pre>
<dl>
  <dd> Finds the appropriate order of the unsmoothed linear model at this node
<p>
  <dd><dl>
    <dt> <b>Throws:</b> Exception
    <dd> if something goes wrong
  </dl></dd>
</dl>
<a name="factor(int, int, double)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="factor"><b>factor</b></a>
<pre>
 public final double factor(int n,
                            int v,
                            double pruningFactor)
</pre>
<dl>
  <dd> Calculates a multiplication factor used at this node
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> n - the number of instances
    <dd> v - the number of the coefficients
    <dt> <b>Returns:</b>
    <dd> multiplication factor
  </dl></dd>
</dl>
<a name="smoothen()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="smoothen"><b>smoothen</b></a>
<pre>
 public final void smoothen()
</pre>
<dl>
  <dd> Smoothens all unsmoothed formulae at the tree leaves under this node.
<p>
</dl>
<a name="smoothenFormula(weka.classifiers.m5.Node)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="smoothenFormula"><b>smoothenFormula</b></a>
<pre>
 public final void smoothenFormula(<a href="#_top_">Node</a> current)
</pre>
<dl>
  <dd> Recursively smoothens the unsmoothed linear model at this node with the 
     unsmoothed linear models at the nodes above this
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> current - the unsmoothed linear model at the up node of the
     'current' will be used for smoothening
  </dl></dd>
</dl>
<a name="predictionsToString(weka.core.Instances, int, boolean)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="predictionsToString"><b>predictionsToString</b></a>
<pre>
 public final String predictionsToString(<a href="weka.core.Instances.html#_top_">Instances</a> inst,
                                         int lmNo,
                                         boolean smooth) throws Exception
</pre>
<dl>
  <dd> Converts the predictions by the tree under this node to a string
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> insta - instances
    <dd> smooth - =ture using the smoothed models; otherwise, the unsmoothed
    <dt> <b>Returns:</b>
    <dd> the converted string
    <dt> <b>Throws:</b> Exception
    <dd> if something goes wrong
  </dl></dd>
</dl>
<a name="leafNum(weka.core.Instance)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="leafNum"><b>leafNum</b></a>
<pre>
 public final int leafNum(<a href="weka.core.Instance.html#_top_">Instance</a> instance)
</pre>
<dl>
  <dd> Detects which leaf a instance falls into
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> i - instance i
    <dd> inst - instances
    <dt> <b>Returns:</b>
    <dd> the leaf no.
  </dl></dd>
</dl>
<a name="predict(weka.core.Instance, boolean)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="predict"><b>predict</b></a>
<pre>
 public final double predict(<a href="weka.core.Instance.html#_top_">Instance</a> instance,
                             boolean smooth)
</pre>
<dl>
  <dd> Predicts the class value of an instance by the tree
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> i - instance i
    <dt> <b>Returns:</b>
    <dd> the predicted value
  </dl></dd>
</dl>
<a name="errors(weka.core.Instances, boolean)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="errors"><b>errors</b></a>
<pre>
 public final <a href="weka.classifiers.m5.Errors.html#_top_">Errors</a> errors(<a href="weka.core.Instances.html#_top_">Instances</a> inst,
                            boolean smooth) throws Exception
</pre>
<dl>
  <dd> Evaluates a tree
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> inst - instances
    <dt> <b>Returns:</b>
    <dd> the evaluation results
    <dt> <b>Throws:</b> Exception
    <dd> if something goes wrong
  </dl></dd>
</dl>
<a name="measures(weka.core.Instances, boolean)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="measures"><b>measures</b></a>
<pre>
 public final <a href="weka.classifiers.m5.Measures.html#_top_">Measures</a> measures(<a href="weka.core.Instances.html#_top_">Instances</a> inst,
                                boolean smooth) throws Exception
</pre>
<dl>
  <dd> Computes performance measures of a tree
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> inst - instances
    <dd> smooth - =true uses the smoothed models;
        otherwise uses the unsmoothed models
    <dt> <b>Returns:</b>
    <dd> the performance measures
    <dt> <b>Throws:</b> Exception
    <dd> if something goes wrong
  </dl></dd>
</dl>
<a name="validation(weka.core.Instances)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="validation"><b>validation</b></a>
<pre>
 public final <a href="weka.classifiers.m5.Measures.html#_top_">Measures</a>[] validation(<a href="weka.core.Instances.html#_top_">Instances</a> inst) throws Exception
</pre>
<dl>
  <dd> Computes performance measures for both unsmoothed and smoothed models
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> inst - instances
    <dt> <b>Throws:</b> Exception
    <dd> if something goes wrong
  </dl></dd>
</dl>
<a name="copy(weka.classifiers.m5.Node)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="copy"><b>copy</b></a>
<pre>
 public final <a href="#_top_">Node</a> copy(<a href="#_top_">Node</a> up) throws Exception
</pre>
<dl>
  <dd> Makes a copy of the tree under this node
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> up - the parant node of the new node
    <dt> <b>Returns:</b>
    <dd> a copy of the tree under this node
    <dt> <b>Throws:</b> Exception
    <dd> if something goes wrong
  </dl></dd>
</dl>
<a name="measuresToString(weka.classifiers.m5.Measures[], weka.core.Instances, int, int, java.lang.String)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="measuresToString"><b>measuresToString</b></a>
<pre>
 public final String measuresToString(<a href="weka.classifiers.m5.Measures.html#_top_">Measures</a> measures[],
                                      <a href="weka.core.Instances.html#_top_">Instances</a> inst,
                                      int lmNo,
                                      int verbosity,
                                      String str) throws Exception
</pre>
<dl>
  <dd> Converts the performance measures into a string
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> measures[] - contains both the unsmoothed and smoothed measures
    <dd> inst - the instances
    <dd> lmNo - also converts the predictions by all linear models if lmNo=0,
        or one linear model spedified by lmNo.
    <dd> verbosity - the verbosity level
    <dd> str - the type of evaluation, one of
        "t" for training, "T" for testing, 
        "f" for fold training, "F" for fold testing, 
        "x" for cross-validation
    <dt> <b>Returns:</b>
    <dd> the converted string
    <dt> <b>Throws:</b> Exception
    <dd> if something goes wrong
  </dl></dd>
</dl>
<hr>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-weka.classifiers.m5.html">This Package</a>  <a href="weka.classifiers.m5.Measures.html#_top_">Previous</a>  <a href="weka.classifiers.m5.Options.html#_top_">Next</a>  <a href="AllNames.html">Index</a>  <a href="http://www.cs.waikato.ac.nz/ml/weka/index.html">WEKA's home</a></pre>
</body>
</html>
